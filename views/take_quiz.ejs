<head>
    <%- include('layouts/head') %>


        <%- include('includes/_header') %>

</head>

<body>
    
    


    <% 
        let multiple = 0;
        let true_false = 0;
        let check_all = 0;
        let fill = 0;
    %>
    <div class="bg-secondary"></div>
    <div class="bg-lighten-xl"></div>
<form>
    <card class="card-body" id="quiz-cards">
        <ul class="list-group">
            
            <% questions.forEach(question=> { %>
                <li class="list-group-item card"id="quiz-card-background" >
                    <div class="card-header">
                        <h5><%= question.prompt %></h5> 
                    </div>
                    <div class="card-body">
                        
                        <!-- MULTIPLE CHOICE -->
                        <% if (question.type == "multiple_choice") { %>
                            <% 
                                question.choices.push(question.answer); 
                                let shuffled = [].concat(question.choices);
                                shuffled.sort(() => {
                                    return 0.5 - Math.random();
                                });
                            %>

                            <% for (let i = 0; i < 4; i++) { %>
                                <% 
                                    let current_radio = "mc_" + String(multiple) + String(i);
                                    let current_value = shuffled[i];
                                    %>
                            



                                <label for=<%=current_radio%>>
                                <input type="radio" name=<%= "mc_" + multiple %> id=<%= current_radio %> value=<%= current_value %> > <%=current_value%> </label>


                            <% } %>
                            <% multiple += 1; %>

                        <!-- TRUE/FALSE -->
                        <% } else if (question.type == "true_or_false") { %>

                            <!-- TRUE -->
                            <label for=<%= "true" + true_false %>>      <input type="radio" name=<%= "tf_" + true_false %> id=<%= "true" + true_false %> value="true"> True</label>
                        
                            <!-- FALSE -->
                            <label for=<%= "false" + true_false %>>    <input type="radio" name=<%= "tf_" + true_false %> id=<%= "false" + true_false %> value="false">  False</label>
                        
                            <!-- INCREMENT -->
                            <% true_false += 1; %>

                        <!-- CHECK ALL THAT APPLY -->
                        <% } else if (question.type == "check_all") { %>
                            <% 
                                question.answer_multiple.forEach(answer => {
                                    question.choices.push(answer);
                                });
                                let shuffled = [].concat(question.choices);
                                shuffled.sort(() => {
                                    return 0.5 - Math.random();
                                });
                            %>

                            <% for (let i = 0; i < 4; i++) { %>
                                <% 
                                    let current_check = "check_" + String(check_all) + String(i);
                                    let current_value = shuffled[i];
                                %>
                                <label for=<%=current_check%>>       <input type="checkbox" name=<%= "check_" + check_all %> id=<%= current_check %> value=<%= current_value %> > <%=current_value%></label>
                            

                            <% } %>
                            <% check_all += 1; %>


                        <!-- FILL IN THE BLANK -->
                        <% } else if (question.type == "fill") { %>
                            <input class="contact-form-text" type="text" name=<%= "fill_" + fill %> placeholder="Type answer here" required>
                            <% fill += 1; %>
                        <% } %>

                        
                    </div>
                </li>
                <hr>
            <% }) %>
        
        </ul>

    </card>
</form>


</body>

<%- include('includes/_footer') %>